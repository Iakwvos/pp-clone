{% extends 'base.html' %}
{% load static %}
{% block title %}Product Preview{% endblock %}

{% block content %}
<div class="mt-5">
    <h2>{{ title }}</h2>
    <!-- Display images -->
    <div class="mb-3">
        {% for image in images %}
        <img src="{{ image }}" alt="{{ title }}" class="img-thumbnail" style="max-width: 150px;" />
        {% endfor %}
    </div>
    <!-- Display AI-generated description with TinyMCE editor -->
    <form method="post" action="{% url 'save_product' %}">
        {% csrf_token %}
        <input type="hidden" name="title" value="{{ title }}" />
        <input type="hidden" name="language" value="{{ language }}" />
        {% for image in images %}
        <input type="hidden" name="images[]" value="{{ image }}" />
        {% endfor %}
        <div class="mb-3">
            <label for="description" class="form-label">Product Description</label>
            <textarea id="description" name="description">{{ description }}</textarea>
        </div>
        <button type="submit" class="btn btn-success">Save Product Page</button>
    </form>
</div>

<!-- Include TinyMCE JS -->
<script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
<script>
    CKEDITOR.replace('description');
</script>
{% endblock %}
